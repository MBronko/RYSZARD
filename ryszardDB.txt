mysql -u root

create database ryszardDB;

use ryszardDB

create table accounts (
    user_id int not null auto_increment,
    login varchar(255),
    password varchar(255),
    creation_date timestamp,
    last_logged timestamp,

    PRIMARY KEY (user_id)

);

create table servers (
    server_id int not null auto_increment,

    PRIMARY KEY (server_id)
);

create table characters (
    char_id int not null auto_increment,
    user_id int,
    server_id int,
    char_class varchar(255),
    nickname varchar(255),
    currency int,
    level int,
    exp int,
    strenght int,
    hp int,
    dex int,
    luck int,

    PRIMARY KEY (char_id),
    FOREIGN KEY (user_id) REFERENCES accounts(user_id),
    FOREIGN KEY (server_id) REFERENCES servers(server_id)
);



create table item_template (
    item_template_id int not null auto_increment,
    item_icon varchar(255),
    item_description varchar(255),
    item_class varchar(255),
    item_type varchar(255),

    PRIMARY KEY (item_template_id)
);

create table items (
    item_id int not null auto_increment,
    item_template_id int,
    char_id int,
    value int,
    strenght int,
    hp int,
    dex int,
    luck int,
    every_attrib int,
    item_active boolean DEFAULT false,

    PRIMARY KEY (item_id),
    FOREIGN KEY (item_template_id) REFERENCES item_template(item_template_id),
    FOREIGN KEY (char_id) REFERENCES characters(char_id)
);

create table mission_template (
    mission_template_id int not null auto_increment,
    mission_description varchar(255),

    PRIMARY KEY (mission_template_id)
);

create table missions (
    mission_id int not null auto_increment,
    mission_template_id int,
    char_id int,
    currency_reward int,
    exp_reward int,
    duration_time int,
    start_date timestamp,
    item_id int,
    mission_active boolean DEFAULT false,

    PRIMARY KEY (mission_id),
    FOREIGN KEY (item_id) REFERENCES items(item_id),
    FOREIGN KEY (mission_template_id) REFERENCES mission_template(mission_template_id),
    FOREIGN KEY (char_id) REFERENCES characters(char_id)
);

create table enemy_template (
    enemy_template_id int,
    enemy_name varchar(255),
    enemy_icon varchar(255),
    enemy_class varchar(255),

    PRIMARY KEY (enemy_template_id)
);